{{ define "main" }}
<article class="page-content service-areas-hub">
  <div class="container">
    {{ partial "breadcrumbs.html" . }}

    <h1 class="page-title">
      <span class="title-main">{{ .Title }}</span>
    </h1>

    <div class="content-wrapper">
      {{ .Content }}

      <section class="areas">
        {{ $areaData := .Site.Data.service_areas.areas }}
        
        <!-- San Gabriel Valley -->
        <div id="san-gabriel-valley" class="area-section">
          <details class="area-accordion">
            <summary class="area-title">
              <h2>{{ $areaData.san_gabriel_valley.name }}</h2>
              <span class="area-description">{{ $areaData.san_gabriel_valley.description }}</span>
            </summary>
            <div class="city-grid">
              {{ range $areaData.san_gabriel_valley.cities }}
                {{ $cityPage := $.Site.GetPage (printf "locations/%s" .slug) }}
                {{ if $cityPage }}
                  <a href="{{ $cityPage.RelPermalink }}" class="city-card">
                    <h3>{{ .name }}</h3>
                    <p class="city-focus">{{ .focus }}</p>
                  </a>
                {{ else }}
                  <div class="city-card city-coming-soon">
                    <h3>{{ .name }}</h3>
                    <p class="city-focus">Coming Soon</p>
                  </div>
                {{ end }}
              {{ end }}
            </div>
          </details>
        </div>

        <!-- Los Angeles -->
        <div id="los-angeles" class="area-section">
          <details class="area-accordion">
            <summary class="area-title">
              <h2>{{ $areaData.los_angeles.name }}</h2>
              <span class="area-description">{{ $areaData.los_angeles.description }}</span>
            </summary>
            <div class="city-grid">
              {{ range $areaData.los_angeles.cities }}
                {{ $cityPage := $.Site.GetPage (printf "locations/%s" .slug) }}
                {{ if $cityPage }}
                  <a href="{{ $cityPage.RelPermalink }}" class="city-card">
                    <h3>{{ .name }}</h3>
                    <p class="city-focus">{{ .focus }}</p>
                  </a>
                {{ else }}
                  <div class="city-card city-coming-soon">
                    <h3>{{ .name }}</h3>
                    <p class="city-focus">Coming Soon</p>
                  </div>
                {{ end }}
              {{ end }}
            </div>
          </details>
        </div>

        <!-- San Fernando Valley -->
        <div id="san-fernando-valley" class="area-section">
          <details class="area-accordion">
            <summary class="area-title">
              <h2>{{ $areaData.san_fernando_valley.name }}</h2>
              <span class="area-description">{{ $areaData.san_fernando_valley.description }}</span>
            </summary>
            <div class="city-grid">
              {{ range $areaData.san_fernando_valley.cities }}
                {{ $cityPage := $.Site.GetPage (printf "locations/%s" .slug) }}
                {{ if $cityPage }}
                  <a href="{{ $cityPage.RelPermalink }}" class="city-card">
                    <h3>{{ .name }}</h3>
                    <p class="city-focus">{{ .focus }}</p>
                  </a>
                {{ else }}
                  <div class="city-card city-coming-soon">
                    <h3>{{ .name }}</h3>
                    <p class="city-focus">Coming Soon</p>
                  </div>
                {{ end }}
              {{ end }}
            </div>
          </details>
        </div>
      </section>
    </div>
  </div>
</article>
{{ end }}
